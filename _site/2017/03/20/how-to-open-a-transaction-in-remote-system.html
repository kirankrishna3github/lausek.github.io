<html>
    <head>
        <title>lausek</title>
        <link rel="icon" type="image/gif" href="/img/icon/icon.gif" />
        <link rel="stylesheet" type="text/css" href="/css/minimal.css" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="author" content="lausek" />
        <meta name="description" content="This is my little blog about programming - mainly in ABAP - and other computer stuff." />
        <meta name="keywords" content="lausek, sap, abap, laurin, kirbach, lpk" />
    </head>
    <body>
    
    <header>
    <a href="http://localhost:4000">&lcub;lausek&rcub;</a>
    <nav>
        
    </nav>
    <hr />
</header>

    
    <main>
        <h1>How To Open A Transaction In Remote System</h2>
<hr />

<p>Once my task was to write a report which compares master data (customers, vendors) from the current system to another one over RFC. Hotspot jumps into maintenance views were also required…</p>

<blockquote>
  <p><strong><em>le colleague testing my program</em></strong>
<strong>colleague:</strong> When I click on this, FD03 doesn’t open in &lt;remote_system_xy&gt;
<strong>me:</strong> lol yeah… and??</p>
</blockquote>

<p>I bet you would have had the same thoughts if you were in my place. At first I really felt like my coworker didn’t get, that this would require a call to a whole other system, but apparently it is no problem to do such a thing.</p>

<p>You probably won’t find a system that doesn’t support function module <code class="highlighter-rouge">RFC_CALL_TRANSACTION_USING</code> - so don’t worry about backwards compatibility. The call itself is very intuitive once you know that navigating works via batch input.</p>

<figure class="highlight"><pre><code class="language-abap" data-lang="abap"><span class="o">&amp;</span><span class="n">quot</span><span class="err">;</span> <span class="k">Table</span> <span class="k">for</span> <span class="k">errors</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
<span class="k">DATA</span> <span class="n">li_error</span> <span class="k">TYPE</span> <span class="k">STANDARD</span> <span class="k">TABLE</span> <span class="k">OF</span> <span class="n">bdcmsgcoll</span><span class="p">.</span>

<span class="o">&amp;</span><span class="n">quot</span><span class="err">;</span> <span class="k">Create</span> <span class="n">a</span> <span class="n">batch</span> <span class="k">file</span> <span class="k">for</span> <span class="n">prefilling</span> <span class="n">the</span> <span class="k">input</span> <span class="k">mask</span>
<span class="k">DATA</span><span class="p">(</span><span class="n">li_table</span><span class="p">)</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="n">bdcdata_tab</span><span class="p">(</span>
                    <span class="p">(</span> <span class="n">dynbegin</span> <span class="o">=</span> <span class="s1">'T'</span> <span class="n">fnam</span> <span class="o">=</span> <span class="s1">'FD03'</span> <span class="p">)</span>
                    <span class="p">(</span> <span class="k">program</span> <span class="o">=</span> <span class="s1">'SAPMF02D'</span> <span class="k">dynpro</span> <span class="o">=</span> <span class="s1">'0106'</span> <span class="n">dynbegin</span> <span class="o">=</span> <span class="s1">'X'</span> <span class="p">)</span>
                    <span class="p">(</span> <span class="n">fnam</span> <span class="o">=</span> <span class="s1">'RF02D-KUNNR'</span> <span class="n">fval</span> <span class="o">=</span> <span class="s1">'&amp;lt;customer_number&amp;gt;'</span> <span class="p">)</span>
                    <span class="p">(</span> <span class="n">fnam</span> <span class="o">=</span> <span class="s1">'RF02D-BUKRS'</span> <span class="n">fval</span> <span class="o">=</span> <span class="s1">'&amp;lt;company_code&amp;gt;'</span> <span class="p">)</span>
                    <span class="p">(</span> <span class="n">fnam</span> <span class="o">=</span> <span class="s1">'RF02D-D0110'</span> <span class="n">fval</span> <span class="o">=</span> <span class="n">abap_true</span> <span class="p">)</span>
                    <span class="p">(</span> <span class="n">fnam</span> <span class="o">=</span> <span class="s1">'RF02D-D0120'</span> <span class="n">fval</span> <span class="o">=</span> <span class="n">abap_true</span> <span class="p">)</span>
                    <span class="p">(</span> <span class="n">fnam</span> <span class="o">=</span> <span class="s1">'BDC_OKCODE'</span>  <span class="n">fval</span> <span class="o">=</span> <span class="s1">'/00'</span> <span class="p">)</span>
                <span class="p">).</span>

<span class="k">CALL</span> <span class="k">FUNCTION</span> <span class="s1">'RFC_CALL_TRANSACTION_USING'</span>
    <span class="k">DESTINATION</span> <span class="s1">'&amp;lt;destination_xy&amp;gt;'</span>
    <span class="k">EXPORTING</span>
        <span class="n">tcode</span>                   <span class="o">=</span> <span class="s1">'FD03'</span>
        <span class="k">mode</span>                    <span class="o">=</span> <span class="s1">'E'</span>       <span class="o">&amp;</span><span class="n">quot</span><span class="err">;</span> <span class="n">Allow</span> <span class="k">user</span> <span class="k">to</span> <span class="k">view</span> <span class="n">the</span> <span class="k">output</span> <span class="k">of</span> <span class="n">FD03</span>
    <span class="k">TABLES</span>
        <span class="n">bt_data</span>                 <span class="o">=</span> <span class="n">li_table</span>
        <span class="n">l_errors</span>                <span class="o">=</span> <span class="n">li_error</span>
    <span class="k">EXCEPTIONS</span>
        <span class="n">authority_not_available</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">communication_failure</span>   <span class="o">=</span> <span class="mi">2</span>
        <span class="n">system_failure</span>          <span class="o">=</span> <span class="mi">3</span>
        <span class="k">OTHERS</span>                  <span class="o">=</span> <span class="mi">4</span><span class="p">.</span>

<span class="k">IF</span> <span class="n">sy</span><span class="o">-</span><span class="n">subrc</span> <span class="o">&amp;</span><span class="k">lt</span><span class="err">;</span><span class="o">&amp;</span><span class="k">gt</span><span class="err">;</span> <span class="mi">0</span><span class="p">.</span>
    <span class="k">MESSAGE</span> <span class="k">ID</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgid</span> <span class="k">TYPE</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgty</span> <span class="k">NUMBER</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgno</span>
        <span class="k">WITH</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgv1</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgv2</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgv3</span> <span class="n">sy</span><span class="o">-</span><span class="n">msgv4</span><span class="p">.</span>
<span class="k">ENDIF</span><span class="p">.</span></code></pre></figure>

<p>If you have no clue about handcrafting batch input processes (like I do), I recommend recording a test run with transaction SM35.</p>


    </main>

    <hr />
<footer>
    Handcrafted by lausek 2018
</footer>

    
    </body>
</html>


